<html>
  <head>
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Vanitygen for BitZeny</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <script src="bitcoinjs.js"></script>
  </head>
  <body>
    <div class="container">
      <br><br>
      <h1>Vanitygen for BitZeny</h1>
      <p>
        Generates <a href="https://bitcointalk.org/index.php?topic=849994.0">BitZeny</a> addresses starting with any string you want.<br>
        Donate me if you find good address. <code>ZuGdQvycbE9HTfke3EPcSUQEH2joaYqXjj</code>
      </p>
      <h1>BitZenyアドレスジェネレーター</h1>
      <p>
        Z+好みの文字列から始まる<a href="https://bitcointalk.org/index.php?topic=849994.0">BitZeny</a>用のアドレスを生成します<br>
        いいアドレスが生成できたらここにBitZenyを寄付してください → <code>ZuGdQvycbE9HTfke3EPcSUQEH2joaYqXjj</code><br>
        JavaScriptで動作するのでこのページの作成者に秘密鍵が知られることはありません。ただし、インターネットから切断することを推奨します。
      </p>
      <h2>FAQ</h2>
      <dl>
        <dt>生成したアドレスはどうやって使うの？</dt>
        <dd>ウォレットのメニューから ヘルプ →デバッグウィンドウ → コンソールを開き<code>importprivkey 生成されたアドレスのPrivate Key</code>を入力してください</dd>
      </dl>
      <dl>
        <dt>マルチスレッド</dt>
        <dd>複数のタブでこのページを開いてください。将来的に一つのタブでできるようにします。</dd>
      </dl>
      <dl>
        <dt>探索の途中結果を保存したい</dt>
        <dd>ランダムにアドレスを生成してチェックしているので途中結果を保存しても最初から探索しても成功確率は変わりません。変わったらすごい</dd>
      </dl>
      <h2>Generator</h2>
      <p>
        <input  id="role" class="form-control input-sm" type="text" value="ZenyHime">
        <button id="start" class="btn btn-lg btn-primary">開始 / Start</button>
        <button id="stop" class="btn btn-lg btn-danger">中止 / Stop</button>
      </p>
      <p>
        Count: <span id="count">0</span>
      </p>
      <p id="result">
      </p>
    </div>
    <script>

var start = document.getElementById('start');
var stop = document.getElementById('stop');
var role = document.getElementById('role');
var count = 0;
var worker;

stop.style.display = 'none';

start.addEventListener('click',function(e) {
  start.style.display = 'none';
  stop.style.display = '';

  worker = new Worker('worker.js');
  worker.onmessage = function(message) {
    var data = message.data;
    switch(data.event) {
      case 'count':
        count = data.count;
        document.getElementById('count').innerText = count;
        break;
      case 'found':
        var div = document.createElement('div');
        div.innerHTML = `
          <hr>
          <form>
            <div class="form-group row">
              <label class="col-sm-2 col-form-label">Address</label>
              <div class="col-sm-10"><input class="form-control" readonly value="${data.address}"></div>
            </div>
            <div class="form-group row">
              <label class="col-sm-2 col-form-label">Private Key</label>
              <div class="col-sm-10"><input class="form-control" readonly value="${data.privkey}"></div>
            </div>
          </form>`;
        document.getElementById('result').appendChild(div);
        break;
    }
  };
  worker.postMessage({count: count, role: role.value});
});

stop.addEventListener('click', function(e) {
  start.style.display = '';
  stop.style.display = 'none';
  worker.terminate();
});

    </script>
  </body>
</html>
